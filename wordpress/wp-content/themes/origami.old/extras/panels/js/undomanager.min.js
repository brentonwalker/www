var UndoManager=function(){function e(a){a&&(f=!0,a.f.apply(a.o,a.p),f=!1)}var c=[],b=-1,f=!1,d;return{register:function(a,e,g,h,j,k,l,m){f||(c.splice(b+1,c.length-b),c.push({undo:{o:a,f:e,p:g,m:h},redo:{o:j,f:k,p:l,m:m}}),b=c.length-1,d&&d())},setCallback:function(a){d=a},undo:function(){var a=c[b];a&&(e(a.undo),b-=1,d&&d())},redo:function(){var a=c[b+1];a&&(e(a.redo),b+=1,d&&d())},clear:function(){var a=c.length;c=[];b=-1;d&&0<a&&d()},hasUndo:function(){return-1!==b},hasRedo:function(){return b<
c.length-1}}};